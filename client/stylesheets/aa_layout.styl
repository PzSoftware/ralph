@import "a_variables.styl"
@import "utility.styl"

/* apply a natural box layout model to all elements */
*
  box-sizing border-box
  -webkit-box-sizing border-box
  -moz-box-sizing border-box

  margin 0
  padding 0


html
  height 100%
  font-size 65%


body
  font-family 'Open Sans', sans-serif
  background body-bg-color
  height 100%
  font-size 1.4rem
  overflow hidden


a
  text-decoration none
  outline none
  &:hover,
  &:focus,
  &:active
    outline none


ul,
ol
  list-style none
  padding 0
  margin 0


input
textarea
  border-radius 0px
  -webkit-appearance none


*:focus
    outline 0


#connecting-overlay
  position absolute
  top 0
  right 0
  bottom 0
  left 0
  z-index 10000
  background rgba(255,255,255,0.94)
  >span
    position absolute
    left 0
    right 0
    top 50%
    margin-top -4rem
    font-size 2.4rem
    font-weight bold
    color muted-color
    text-align center
    >div
      font-size 2rem
      color orange
      margin-top 1rem


#map-canvas
  display none


#container
  background-image url('/uploads/blur-bg-1.jpg')
  background-repeat no-repeat
  background-position 50% center
  background-size cover
  overflow hidden

  position relative
  margin auto
  width 100%
  height 100%

  &:before,
  &:after
    content ""
    display table
  &:after
    clear both
  // &.show-view-one
  &.show-view-two
    .view--one
      opacity 0
    .view--two
      -webkit-transform translate3d(0, 0, 0)
      transform translate3d(0, 0, 0)
      z-index 15
  &.show-view-three
    .view--one
      opacity 0
    .view--three
      -webkit-transform translate3d(0, 0, 0)
      transform translate3d(0, 0, 0)
      z-index 15
  &.show-view-four
    .view--one
      opacity 0
    .view--four
      -webkit-transform translate3d(0, 0, 0)
      transform translate3d(0, 0, 0)
      z-index 15
  &.show-view-two
  &.show-view-three
  &.show-view-four
    z-index 10
    .page-views
      z-index 9
  &.show-left-menu
    #left-menu
      -webkit-transform translate3d(0, 0, 0)
      transform translate3d(0, 0, 0)
    #container__inner
      -webkit-transform translate3d(left-menu-width, 0, 0)
      transform translate3d(left-menu-width, 0, 0)


#container__inner
  position relative
  height 100%
  width 100%
  -webkit-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -moz-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -o-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)

  -webkit-transform translate3d(0, 0, 0)
  transform translate3d(0, 0, 0)
  overflow hidden

#views
  overflow hidden
  height 100%
  width 100%
.view
  position absolute
  top 0
  right 0
  bottom 0
  left 0
  z-index 5
  width 100%
  height 100%
  overflow hidden
  opacity 1

  -webkit-transition all 250ms
  -moz-transition all 250ms
  -o-transition all 250ms
  transition all 250ms

  -webkit-transform translate3d(0, 0, 0)
  transform translate3d(0, 0, 0)
.view__carousel
.view__carausel__item
  height 100%
  width 100%
  overflow hidden
.view__carausel__item
  display none
  &.on
    display block
.view__inner
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  overflow-y auto
  overflow-x hidden
  -webkit-overflow-scrolling touch

  &.with-margin
    margin-top page-header-height
    &.with-submenu
      margin-top page-header-height + submenu-height
  &.white
    background #FFF
.view--light
  .view-header
    background rgba(255, 255, 255, 0.8)
    box-shadow 0 0 2px rgba(0,0,0,0.6)
    color #333
  .page-header__left
  .page-header__right
    color #333
  .view__inner
    background rgba(255,255,255,0.2)
.view--dark
  .view-header
    background rgba(255, 255, 255, 0.9)
    box-shadow 0 0 2px rgba(0,0,0,0.5)
    color #333
  .page-header__left
  .page-header__right
    color #333
  .new-topic-chat
    color orange
  .view__inner
    background rgba(0,0,0,0.2)
// .view--one
.view--two
.view--three
.view--four
  -webkit-transform translate3d(100%, 0, 0)
  transform translate3d(100%, 0, 0)
.page-views
  position relative
  width 100%
  height 100%
  overflow hidden
  z-index -1


.page-cover
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  overflow-y auto
  overflow-x hidden
  z-index 5000
  background-image url('/uploads/blur-bg-1.jpg')
  background-repeat no-repeat
  background-position 50% center
  background-size cover
  overflow hidden

.page-cover--transparent
  background-color rgba(255,255,255,0.3)


.panes
  width 100%
  height 100%
  overflow hidden

  >ul
    width 100%
    height 100%
    display block
    overflow hidden

    transform translate3d(0%,0,0) scale3d(1,1,1)
    -o-transform translate3d(0%,0,0) scale3d(1,1,1)
    -ms-transform translate3d(0%,0,0) scale3d(1,1,1)
    -moz-transform translate3d(0%,0,0) scale3d(1,1,1)
    -webkit-transform translate3d(0%,0,0) scale3d(1,1,1)
    position relative

    -webkit-transition all .3
    -moz-transition all .3s
    transition all .3s

    >li
      float left
      -webkit-transform translate3d(0,0,0)
      transform translate3d(0,0,0)
      min-height 100%
      height 100%
      padding 0
      position relative
      width 100%

    &.with-top-menu
      padding-top top-menu-height
    &.animate
      -webkit-transition all .3s
      -moz-transition all .3s
      -o-transition all .3s
      transition all .3s
    &.two-panes
      width 200%
      >li
        width 50%
    &.with-page-headers
      z-index 1001
.pane__inner
  overflow-x hidden
  overflow-y auto
  -webkit-overflow-scrolling touch
  height 100%
  width 100%
  position relative
  &:before,
  &:after
    content ""
    display table
  &:after
    clear both
.pane__bottom-spacer
  width 100%
  height bottom-bar-height
.panes--about
  .bottom-menu
    li
      padding-top 1.5rem
      padding-bottom 1.5rem
      width 5.8rem

.pane-names
  text-align center
  ul
    position relative
    display inline-block
  li
    display inline-block
    cursor pointer
    position relative
    z-index 1
    -webkit-transform: translate3d(0,0,0)
    a
      display block
  .pane-names__bg
    transform translate3d(0,0,0)
    -webkit-transform translate3d(0,0,0)
    -webkit-transition all .5s
    -moz-transition all .5s
    -o-transition all .5s
    transition all .5s
    position absolute
    left 0
    top 0
    bottom 0
    z-index 0
    float none


.local-map
  position absolute
  left 0
  right 0
  bottom 0
  top page-header-height
  background rgba(0,0,0,0.6)
  z-index -1
  display none
.local-map__inner
  position absolute
  top 3rem
  bottom 5rem
  left 3rem
  right 3rem
  border 0.4rem solid rgba(0,0,0,0.5)
  box-shadow 0 0 2px #333
.local-map--show
  z-index 10000
  display block
  #map-canvas
    display block


#left-menu
  width left-menu-width
  color #FFF
  display block
  height 100%
  position fixed
  top 0
  left 0

  -webkit-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -moz-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -o-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)

  -webkit-transform translate3d(-1 * left-menu-width, 0, 0)
  transform translate3d(-1 * left-menu-width, 0, 0)

  .view__inner
    background rgba(0,0,0,0.7)

  .login-form
    width 100%
    padding 2.5rem 1.5rem 0 1.5rem
    .login-form__sign-up
    .login-form__log-in
      margin-top 0.5rem
      margin-bottom 1rem
.left-menu__items
  padding 1.5rem 0
  a
  div
    color #FFF
    font-size 1.6rem
    padding 1rem 1.5rem
    display block
    &.on
      background rgba(255,255,255,0.2)
.left-menu__header
  font-size 2.2rem
  height page-header-height
.left-menu__header-name
  float left
  padding 2.5rem 0 0 1.5rem
.left-menu__inner
  position absolute
  top page-header-height
  right 0
  bottom 0
  left 0
.left-menu-toggle
  position absolute
  top 0
  left 0
  z-index 1005
  margin-top -0.1rem


.page-header
  position absolute
  z-index 1000
  width 100%
  overflow hidden
  height page-header-height
  -webkit-touch-callout: none
  -webkit-user-select: none
  -webkit-transition all 250ms ease
  -moz-transition all 250ms ease
  -o-transition all 250ms ease
  transition all 250ms ease
  font-size 2rem
  color #FFF
  top 0
.page-header__left,
.page-header__right,
.page-header__center
  white-space nowrap
  text-overflow ellipsis
  -webkit-touch-callout none
  -webkit-user-select none
  z-index 5
  -webkit-transform: translate3d(0,0,0); // needed so that elements don't disappear when parents animate
.page-header__left
.page-header__right
  cursor pointer
  width 15%
  color #FFF
  font-size 2.2rem
  position absolute
  top 0
  z-index 1010
.page-header__left
  padding 2.6rem 0 0.9rem 1.5rem
  left 0
.page-header__right
  padding 2.5rem 1.5rem 0.7rem 0
  right 0
  text-align right
.page-header__center
  position absolute
  left 15%
  right 15%
  text-align center
  padding 2.6rem 0 0 0
  white-space nowrap
  overflow hidden
  text-overflow ellipsis
  font-weight bold
  &.clickable
    cursor pointer
  .fa
    background blue-color
    border-radius 50%
    color #FFFFFF
    font-size 1rem
    padding 0.2rem 0.5rem
    position relative
    top -0.3rem
    left 0.3rem
.page-header__center-top
  font-size 1.4rem
  font-weight bold
  margin-top -0.4rem
.page-header__center-bottom
  font-size 1.1rem
  margin-top -0.2rem
  font-weight normal
.page-header__info
  display none
  text-align center
  margin-top 8rem
  .rounded-image
    background-color #DDDDDD
    font-size 3rem
    height 7rem
    margin auto
    width 7rem
    box-shadow 0 0 1px rgba(0,0,0,0.8)
    div
      padding-top 1.4rem
  .description
    font-size 1.4rem
    max-width 28rem
    margin auto
    padding 2rem 0
.page-header--with-submenu
  height page-header-height + submenu-height
.page-header--expanded
  height auto
  background #FFF !important
  .page-header__info
    display block
  .page-submenu
    display none


.bottom-bar
  position absolute
  bottom 0
  left 0
  right 0
  z-index 1002
  box-shadow 0 0 1px rgba(0,0,0,0.5)
  background #F9F9F9
  min-height bottom-bar-height
  -webkit-transform: translate3d(0,0,0); // needed so that elements don't disappear when parents animate

.bottom-menu
  li
    font-size 1.1rem
    padding 0.5rem 0 0.3rem 0
    color #333
    width 7rem
    i
      display block
      font-size 2.3rem
    a
      color #333
  .pane-names__bg
    width 7rem
    background rgba(0,0,0,0.1)


.top-menu
  position absolute
  top page-header-height
  left 0
  right 0
  text-align center
  font-size 1.3rem
  background #FFF
  z-index 1001
  border-bottom 1px solid #DDDDDD
  .pane-names__item
    padding 0.6rem 0 0.6rem 0
    color blue + 25%
    width 8rem
    i
      display block
      font-size 2.3rem
  .pane-names__bg
    background blue + 90%
    width 8rem
.top-menu--orange
  border-bottom-color orange + 60%
  .pane-names__item
    color orange + 25%
  .pane-names__bg
    background orange + 85%
.top-menu--grey
  border-bottom-color #9B9B8C + 60%
  .pane-names__item
    color #9B9B8C + 25%
  .pane-names__bg
    background #9B9B8C + 85%


.bottom-list
  padding-left 0.5rem
  li
    float left
    span
    a
      color orange
      display block
      font-size 2.4rem
      padding 0.6rem 0 0 1rem
  .bottom-list__button
    background none repeat scroll 0 0 #E7842D
    border-radius 5px
    color #FFFFFF
    font-size 1.3rem
    margin-left 1rem
    margin-top 1.3rem
    padding 0.1rem 0.5rem


.bottom-form
  padding 0.8rem
.bottom-form__input-wrapper
  border 1px solid #DDD
  border-radius 0.6rem
  background #FFF
  position relative
  overflow hidden
.bottom-form__input
  display block
  width 100%
  resize none
  font-size 1.6rem
  line-height 2rem
  padding 0.5rem 5.5rem 0.5rem 0.5rem
  color #333
  background transparent
  border none
  box-shadow none
  -webkit-appearance none
  border none
  overflow auto
  position relative
  z-index 7
  max-height 18.3rem
  min-height 3.2rem

  img
    max-width 12rem
    max-height 12rem
    border-radius 0.6rem
    display block

  &:empty:before
    content "say something nice"
    color muted-color
.bottom-form__submit
  cursor pointer
  font-size 1.3rem
  position absolute
  right 1rem
  bottom 0.7rem
  color orange
  font-weight bold
  border none
  background transparent
  z-index 10
  z-index 5


.page-loading
  position absolute
  top 40%
  left 0
  right 0
  text-align center
  margin -6rem 1rem 0 1rem
.page-loading__inner
  padding 1.5rem
  text-align center
  border-radius 1rem
  background rgba(255,255,255,0.9)
  display inline-block
  margin auto
.page-loading__icon
  font-size 3rem
  cursor default
  color muted-less-color
.page-loading__text
  font-size 1.8rem
  font-weight bold
  color muted-less-color
  margin-top 0.5rem
.page-loading__subtext
  font-size 1.4rem
  color orange
  font-weight 200
  margin-top 0.5rem


.top-notice
  position fixed
  top page-header-height
  left 0
  right 0
  background #D7622B
  color #FFF
  padding 0.7rem 1.5rem
  text-transform uppercase
  font-size 1.2rem


 .list-items-header
   color #FFF
   background #999
   padding 0.2rem 1rem 0.3rem 1rem
   font-size 1.4rem
   font-weight bold

.list-item
  position relative
  display block
  transform scale3d(1,1,1)
  -webkit-transform scale3d(1,1,1)
  -webkit-transition -webkit-transform .3
  -webkit-touch-callout none
  -moz-transition transform .3s
  transition transform .3s
  overflow hidden
  &:hover
    background #F9F9F9
.list-item__inner
  display block
  border-top 1px solid #E3E3E3
  padding 1.4rem 1.4rem 1.4rem 5.8rem
  color #333
.list-item__icon
  color muted-more-color
  font-size 4rem
  position absolute
  left 1rem
  top 50%
  margin-top -2rem
  width 4rem
  height 4rem
.list-item__name
  color muted-less-color
  font-weight bold
  white-space nowrap
  font-size 1.5rem
  i
    font-size 1rem
    left 0.2rem
    top -0.2rem
    color muted-more-color
    position relative
.list-item__name
.list-item__meta
  text-overflow ellipsis
  overflow hidden
.list-item__description
  max-height 3rem
  line-height 1.5rem
  overflow hidden
  margin 0.2rem 0 0.3rem 0
.list-item__description
.list-item__meta
  font-size 1.1rem
  color muted-more-color
.list-item__time
  font-size 1rem
  opacity 0.5
  position absolute
  right 1rem
  top 1.3rem
.list-item__actions
  position absolute
  top 0
  left 0
  right 0
  bottom 1px
  background rgba(255,255,255,0.8)
  text-align center
  opacity 0
  z-index -1
  transition opacity .2s
  >li
    display inline-block
    margin 1.8rem 0.5rem
    transform scale3d(0,0,0)
    -webkit-transform scale3d(0,0,0)
    -webkit-transition -webkit-transform .3
    -moz-transition transform .3s
    transition transform .3s
.list-item--hidden
  transform scale3d(0,0,0)
  -webkit-transform scale3d(0,0,0)
.list-item--disabled
  cursor default
  opacity 0.6
  .list-item__meta
    display none
  .list-item__oor
    display block
.list-item--none
  padding 2rem 1.5rem
  background #FFF
  font-weight bold
  color muted-more-color
  text-transform uppercase
.list-item--show-actions
  .list-item__actions
    opacity 1
    z-index 1
    >li
      transform scale3d(1,1,1)
      -webkit-transform scale3d(1,1,1)
.list-item--local
  .list-item__inner
    border-bottom none
    padding-left 1.5rem
  .list-item__name
    font-size 2rem
    margin-top -0.5rem
  .list-item__go
    margin-top -1.6remrem
    font-size 2.2rem


.channel-list-preview
  .pretty-item
    border-bottom none

.pretty-item
  position relative
  display block
  -webkit-touch-callout none
  overflow hidden
  z-index 5
  border-bottom 0.2rem solid rgba(255,255,255,0.2)
  .rounded-image
    font-size 2rem
    div
      padding 1.5rem 0
  &:hover
    .pretty-item__inner
      background rgba(0,0,0,0.5)
.pretty-item__inner
  padding 1.4rem 1.4rem 1.4rem 8.5rem
  position relative
  z-index 10
  background rgba(0,0,0,0.4)
  display block
  color #FFF
  &.no-description
    .pretty-item__name
      top 0.9rem
    .pretty-item__meta
      bottom 1rem
.pretty-item__icon
  color muted-more-color
  font-size 4rem
  position absolute
  left 1rem
  top 50%
  margin-top -3rem
  height 6rem
  width 6rem
.pretty-item__name
  font-weight bold
  white-space nowrap
  font-size 1.5rem
.pretty-item__bg
  @extend .cover-image
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  z-index 5
  opacity 0.5
.pretty-item__description
  max-height 3rem
  line-height 1.5rem
  overflow hidden
  margin 0.2rem 0 0.3rem 0
  min-height 1.5rem
.pretty-item__name
.pretty-item__description
.pretty-item__meta
  text-shadow 0 0 1px rgba(0,0,0,0.75)
  position relative
  overflow hidden
  text-overflow ellipsis
.pretty-item__description
.pretty-item__meta
  font-size 1.1rem
.pretty-item__actions
  background rgba(0, 0, 0, 0.8)
  border-radius 0.6rem
  left 50%
  margin -2.3rem 0 0rem -12rem
  opacity 0
  padding 1rem
  position absolute
  text-align center
  top 50%
  transition opacity 0.2s ease 0s
  z-index -1
  >li
    display inline-block
    margin 0 0.5rem
    transform scale3d(0,0,0)
    -webkit-transform scale3d(0,0,0)
    -webkit-transition -webkit-transform .3
    -moz-transition transform .3s
    transition transform .3s
    cursor pointer
.pretty-item--show-actions
  .pretty-item__actions
    opacity 1
    z-index 20
    >li
      transform scale3d(1,1,1)
      -webkit-transform scale3d(1,1,1)


.rounded-image
  width 100%
  height 100%
  border-radius 50%
  font-size 1.4rem
  color #FFF
  text-align center
  overflow hidden
  font-weight bold

  img
    display block
    height 100%
    width 100%
  div
    text-transform uppercase
    padding 1rem 0


.nested-list
  // margin 2rem 1.5rem
  // background #FFF
  // border-radius 0.6rem
  overflow hidden
  textarea
    background transparent
.nested-list__header
  text-transform uppercase
  font-size 1rem
  padding 0.5rem 1.5rem 0.4rem 1.5rem
  color #2c3e50
  font-weight bold
  background rgba(255,255,255,0.8)
  position relative
  span
    text-transform none
    font-weight normal
    display block
  .fa
    position absolute
    top 50%
    right 1.5rem
    cursor pointer
    margin-top -0.5rem
    font-size 1.2rem
.nested-list__info
  font-size 1.4rem
  padding 0.8rem 1rem
.nested-list--padding-top
  padding-top 1.5rem


.image-stack
  position relative
  z-index 1
  height 100%
  width 100%
.image-stack__icon
  color #FFFFFF
  font-size 1.6rem
  text-align center
  position absolute
  text-transform uppercase
  top 0
  left 0
  right 0
  bottom 0
  border-radius 0.5rem
  span
    padding-top 0.9rem
    display block
    border-radius 0.5rem
  img
    width 100%
    height 100%
    border-radius 0.5rem
.image-stack__icon--blank
  box-shadow none
  border 1px dashed muted-more-color
  color muted-more-color
.image-stack__icon-border
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  border 0.3rem solid rgba(255,255,255,0.5)
  border-radius 0.5rem


.center-form
  margin 1.5rem 0 1rem 0
  padding 0 1.5rem
  max-width 35rem
  margin-left auto
  margin-right auto
  textarea
    resize none
    background #FFF
    height 8.5rem
  .nested-list
    margin-left 0
    margin-right 0
.center-form__section
  margin 1rem auto
  width 100%
  max-width 40rem
  overflow hidden
.center-form__input
  font-size 1.6rem
  border none
  width 100%
  padding 0.8rem 1rem
  border-bottom 1px solid #EEE
  margin-bottom -0.1rem
.center-form__submit
  padding 0
  margin-top 1.5rem
  div
    padding 0.8rem 1rem
    color #FFF
    background orange
    font-size 1.6rem
    text-align center
    font-weight bold
    border none
    width 100%
    max-width 40rem
    margin-top 0 auto
    display block
    cursor pointer
.center-form__prefix-input
  position relative
  font-weight bold
  input
    font-weight bold
  .prefix
    position absolute
    top 50%
    margin-top -1.3rem
    font-size 1.8rem
    left 1rem
    color #999
  input
    padding-left 2.2rem


// slide up panel from bottom of screen
.bottom-panel
  position fixed
  bottom 0
  left 0
  right 0
  overflow hidden
  width 100%
  padding 1.5rem
  background rgba(0,0,0,0.95)
  z-index 5000

  -webkit-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -moz-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  -o-transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)
  transition all 250ms //cubic-bezier(0.19, 1, 0.22, 1)

  -webkit-transform translate3d(0, 100%, 0)
  transform translate3d(0, 100%, 0)

  &.visible
    -webkit-transform translate3d(0, 0, 0)
    transform translate3d(0, 0, 0)

  input
    width 100%
    font-size 1.6rem
    border none
    padding 0.8rem 1rem

  .submit
    padding 0
    margin-top 1.5rem
    div
      padding 0.8rem 1rem
      color #FFF
      background orange
      font-size 1.6rem
      text-align center
      font-weight bold
      border none
      width 100%
      max-width 40rem
      margin-top 0 auto
      display block
      cursor pointer
.bottom-panel__header
  color #FFF
  font-weight bold
  font-size 1.6rem
  margin 0 0 1.5rem 0.1rem



.page-submenu
  margin-top page-header-height
  font-size 1.1rem
  text-align center
  background #FFF
  >li
    display inline-block
    margin-right -4px
    padding 0.3rem 1rem
    border-top 0.3rem solid transparent
    border-bottom 0.3rem solid transparent
    cursor pointer
    color muted-color
    &.on
      border-bottom-color blue-color
      cursor default
      color #333
